{"ast":null,"code":"import _slicedToArray from\"C:\\\\Projetos3\\\\react-app\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/slicedToArray\";import _objectWithoutProperties from\"C:\\\\Projetos3\\\\react-app\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/objectWithoutProperties\";import React,{useState,useEffect}from'react';import{connect}from'react-redux';import*as actions from'../Actions/filme';import*as actionsGenero from'../Actions/genero';import FilmesForms from'./FilmeForm';import{Grid,Paper,TableContainer,table,TableHead,TableRow,TableCell,TableBody,withStyles,ButtonGroup,Button}from'@material-ui/core';import EditIcon from\"@material-ui/icons/Edit\";import DeleteIcon from\"@material-ui/icons/Delete\";import dayjs from'dayjs';import{useToasts}from'react-toast-notifications';var styles=function styles(theme){return{root:{'& . MuiTableCell-head':{fontSize:'1.25rem'}},paper:{margin:theme.spacing(2),padding:theme.spacing(2)}};};var Filmes=function Filmes(_ref){var classes=_ref.classes,props=_objectWithoutProperties(_ref,[\"classes\"]);var _useState=useState(0),_useState2=_slicedToArray(_useState,2),currentId=_useState2[0],setCurrentId=_useState2[1];useEffect(function(){props.fetchAllFilmes();// props.fetchAllGeneros()\n},[]);//toast\nvar _useToasts=useToasts(),addToast=_useToasts.addToast;var onDelete=function onDelete(id){if(window.confirm('Confirmar exclusão do registro?'))props.deleteFilme(id,function(){return addToast(\"Exclusão realizada com sucesso!\",{appearance:'info'});});};return/*#__PURE__*/React.createElement(Paper,{className:classes.paper},/*#__PURE__*/React.createElement(Grid,{container:true},/*#__PURE__*/React.createElement(Grid,{item:true,xs:6},/*#__PURE__*/React.createElement(FilmesForms,{currentId:currentId,setCurrentId:setCurrentId})),/*#__PURE__*/React.createElement(Grid,{item:true,xs:6},/*#__PURE__*/React.createElement(TableContainer,null,/*#__PURE__*/React.createElement(\"table\",null,/*#__PURE__*/React.createElement(TableHead,{className:classes.root},/*#__PURE__*/React.createElement(TableRow,null,/*#__PURE__*/React.createElement(TableCell,null,\"Nome\"),/*#__PURE__*/React.createElement(TableCell,null,\"Data Cria\\xE7\\xE3o\"),/*#__PURE__*/React.createElement(TableCell,null,\"Gen\\xEAro\"),/*#__PURE__*/React.createElement(TableCell,null,\"Situa\\xE7\\xE3o\"),/*#__PURE__*/React.createElement(\"tableCell\",null))),/*#__PURE__*/React.createElement(TableBody,null,props.filmeList&&props.filmeList.map(function(record,index){return/*#__PURE__*/React.createElement(TableRow,{key:index},/*#__PURE__*/React.createElement(TableCell,null,record.nome),/*#__PURE__*/React.createElement(TableCell,null,\" \",dayjs(record.dataCriacao).format('DD-MM-YYYY'),\" \"),/*#__PURE__*/React.createElement(TableCell,null,record.generoId),/*#__PURE__*/React.createElement(TableCell,null,record.ativo),/*#__PURE__*/React.createElement(\"tableCell\",null,/*#__PURE__*/React.createElement(ButtonGroup,{variant:\"Text\"},/*#__PURE__*/React.createElement(Button,null,/*#__PURE__*/React.createElement(EditIcon,{color:\"primary\",onClick:function onClick(){setCurrentId(record.id);}}),\" \"),/*#__PURE__*/React.createElement(Button,null,/*#__PURE__*/React.createElement(DeleteIcon,{color:\"secondary\",onClick:function onClick(){return onDelete(record.id);}}),\" \"))));})))))));};var mapStateToProps=function mapStateToProps(state){return{filmeList:state.filme.list};};var mapActionToProps={fetchAllFilmes:actions.fetchAll,deleteFilme:actions.Delete};export default connect(mapStateToProps,mapActionToProps)(withStyles(styles)(Filmes));","map":{"version":3,"sources":["C:/Projetos3/react-app/src/Components/Filmes.js"],"names":["React","useState","useEffect","connect","actions","actionsGenero","FilmesForms","Grid","Paper","TableContainer","table","TableHead","TableRow","TableCell","TableBody","withStyles","ButtonGroup","Button","EditIcon","DeleteIcon","dayjs","useToasts","styles","theme","root","fontSize","paper","margin","spacing","padding","Filmes","classes","props","currentId","setCurrentId","fetchAllFilmes","addToast","onDelete","id","window","confirm","deleteFilme","appearance","filmeList","map","record","index","nome","dataCriacao","format","generoId","ativo","mapStateToProps","state","filme","list","mapActionToProps","fetchAll","Delete"],"mappings":"4TAAA,MAAOA,CAAAA,KAAP,EAAgBC,QAAhB,CAA0BC,SAA1B,KAA2C,OAA3C,CACA,OAASC,OAAT,KAAwB,aAAxB,CACA,MAAO,GAAKC,CAAAA,OAAZ,KAAyB,kBAAzB,CACA,MAAO,GAAKC,CAAAA,aAAZ,KAA+B,mBAA/B,CACA,MAAOC,CAAAA,WAAP,KAAwB,aAAxB,CACA,OAASC,IAAT,CAAeC,KAAf,CAAsBC,cAAtB,CAAsCC,KAAtC,CAA6CC,SAA7C,CAAwDC,QAAxD,CAAkEC,SAAlE,CAA6EC,SAA7E,CAAwFC,UAAxF,CAAoGC,WAApG,CAAiHC,MAAjH,KAA+H,mBAA/H,CACA,MAAOC,CAAAA,QAAP,KAAqB,yBAArB,CACA,MAAOC,CAAAA,UAAP,KAAuB,2BAAvB,CACA,MAAQC,CAAAA,KAAR,KAAoB,OAApB,CACA,OAASC,SAAT,KAA0B,2BAA1B,CAEA,GAAMC,CAAAA,MAAM,CAAG,QAATA,CAAAA,MAAS,CAAAC,KAAK,QAAK,CACvBC,IAAI,CAAE,CACJ,wBAAyB,CACvBC,QAAQ,CAAE,SADa,CADrB,CADiB,CAMvBC,KAAK,CAAE,CACLC,MAAM,CAAEJ,KAAK,CAACK,OAAN,CAAc,CAAd,CADH,CAELC,OAAO,CAAEN,KAAK,CAACK,OAAN,CAAc,CAAd,CAFJ,CANgB,CAAL,EAApB,CAYA,GAAME,CAAAA,MAAM,CAAG,QAATA,CAAAA,MAAS,MAA2B,IAAxBC,CAAAA,OAAwB,MAAxBA,OAAwB,CAAZC,KAAY,0DACN/B,QAAQ,CAAC,CAAD,CADF,wCACjCgC,SADiC,eACtBC,YADsB,eAGxChC,SAAS,CAAC,UAAM,CACd8B,KAAK,CAACG,cAAN,GACA;AACD,CAHQ,CAGN,EAHM,CAAT,CAKA;AARwC,eASnBd,SAAS,EATU,CAShCe,QATgC,YAShCA,QATgC,CAWxC,GAAMC,CAAAA,QAAQ,CAAG,QAAXA,CAAAA,QAAW,CAAAC,EAAE,CAAI,CACrB,GAAGC,MAAM,CAACC,OAAP,CAAe,iCAAf,CAAH,CACAR,KAAK,CAACS,WAAN,CAAkBH,EAAlB,CAAqB,iBAAMF,CAAAA,QAAQ,CAAC,iCAAD,CAAoC,CAAEM,UAAU,CAAE,MAAd,CAApC,CAAd,EAArB,EACD,CAHD,CAKA,mBACE,oBAAC,KAAD,EAAO,SAAS,CAAEX,OAAO,CAACL,KAA1B,eACE,oBAAC,IAAD,EAAM,SAAS,KAAf,eACE,oBAAC,IAAD,EAAM,IAAI,KAAV,CAAW,EAAE,CAAE,CAAf,eACE,oBAAC,WAAD,CAAkB,CAAEO,SAAS,CAATA,SAAF,CAAaC,YAAY,CAAZA,YAAb,CAAlB,CADF,CADF,cAKE,oBAAC,IAAD,EAAM,IAAI,KAAV,CAAW,EAAE,CAAE,CAAf,eACE,oBAAC,cAAD,mBACE,8CACE,oBAAC,SAAD,EAAW,SAAS,CAAEH,OAAO,CAACP,IAA9B,eACE,oBAAC,QAAD,mBACE,oBAAC,SAAD,aADF,cAEE,oBAAC,SAAD,2BAFF,cAGE,oBAAC,SAAD,kBAHF,cAIE,oBAAC,SAAD,uBAJF,cAKE,qCALF,CADF,CADF,cAUE,oBAAC,SAAD,MAEGQ,KAAK,CAACW,SAAN,EAAmBX,KAAK,CAACW,SAAN,CAAgBC,GAAhB,CAAoB,SAACC,MAAD,CAASC,KAAT,CAAmB,CACvD,mBAAQ,oBAAC,QAAD,EAAU,GAAG,CAAEA,KAAf,eACN,oBAAC,SAAD,MAAYD,MAAM,CAACE,IAAnB,CADM,cAGN,oBAAC,SAAD,UAAc3B,KAAK,CAACyB,MAAM,CAACG,WAAR,CAAL,CAA0BC,MAA1B,CAAiC,YAAjC,CAAd,KAHM,cAIN,oBAAC,SAAD,MACKJ,MAAM,CAACK,QADZ,CAJM,cAUN,oBAAC,SAAD,MAAYL,MAAM,CAACM,KAAnB,CAVM,cAWN,kDACE,oBAAC,WAAD,EAAa,OAAO,CAAC,MAArB,eACE,oBAAC,MAAD,mBAAQ,oBAAC,QAAD,EAAU,KAAK,CAAE,SAAjB,CACR,OAAO,CAAE,kBAAO,CAAEjB,YAAY,CAACW,MAAM,CAACP,EAAR,CAAZ,CAAyB,CADnC,EAAR,KADF,cAIE,oBAAC,MAAD,mBAAQ,oBAAC,UAAD,EAAY,KAAK,CAAE,WAAnB,CACR,OAAO,CAAE,yBAAMD,CAAAA,QAAQ,CAACQ,MAAM,CAACP,EAAR,CAAd,EADD,EAAR,KAJF,CADF,CAXM,CAAR,CAsBD,CAvBiB,CAFtB,CAVF,CADF,CADF,CALF,CADF,CADF,CAsDD,CAtED,CAwEA,GAAMc,CAAAA,eAAe,CAAG,QAAlBA,CAAAA,eAAkB,CAAAC,KAAK,QAAK,CAChCV,SAAS,CAAEU,KAAK,CAACC,KAAN,CAAYC,IADS,CAAL,EAA7B,CAIA,GAAMC,CAAAA,gBAAgB,CAAG,CACvBrB,cAAc,CAAE/B,OAAO,CAACqD,QADD,CAEvBhB,WAAW,CAAErC,OAAO,CAACsD,MAFE,CAAzB,CAKA,cAAevD,CAAAA,OAAO,CAACiD,eAAD,CAAkBI,gBAAlB,CAAP,CAA2CzC,UAAU,CAACO,MAAD,CAAV,CAAmBQ,MAAnB,CAA3C,CAAf","sourcesContent":["import React, { useState, useEffect } from 'react'\r\nimport { connect } from 'react-redux'\r\nimport * as actions from '../Actions/filme'\r\nimport * as actionsGenero from '../Actions/genero'\r\nimport FilmesForms from './FilmeForm'\r\nimport { Grid, Paper, TableContainer, table, TableHead, TableRow, TableCell, TableBody, withStyles, ButtonGroup, Button } from '@material-ui/core'\r\nimport EditIcon from \"@material-ui/icons/Edit\";\r\nimport DeleteIcon from \"@material-ui/icons/Delete\";\r\nimport  dayjs  from 'dayjs';\r\nimport { useToasts } from 'react-toast-notifications'\r\n\r\nconst styles = theme => ({\r\n  root: {\r\n    '& . MuiTableCell-head': {\r\n      fontSize: '1.25rem'\r\n    }\r\n  },\r\n  paper: {\r\n    margin: theme.spacing(2),\r\n    padding: theme.spacing(2)\r\n  }\r\n})\r\n\r\nconst Filmes = ({ classes, ...props }) => {\r\n  const [currentId, setCurrentId] = useState(0)\r\n\r\n  useEffect(() => {\r\n    props.fetchAllFilmes()\r\n    // props.fetchAllGeneros()\r\n  }, [])\r\n\r\n  //toast\r\n  const { addToast } = useToasts()\r\n\r\n  const onDelete = id => {\r\n    if(window.confirm('Confirmar exclusão do registro?'))\r\n    props.deleteFilme(id,() => addToast(\"Exclusão realizada com sucesso!\", { appearance: 'info' }))\r\n  }\r\n\r\n  return (\r\n    <Paper className={classes.paper}>\r\n      <Grid container>\r\n        <Grid item xs={6}>\r\n          <FilmesForms {...({ currentId, setCurrentId })} />\r\n        </Grid>\r\n\r\n        <Grid item xs={6}>\r\n          <TableContainer>\r\n            <table>\r\n              <TableHead className={classes.root}>\r\n                <TableRow>\r\n                  <TableCell>Nome</TableCell>\r\n                  <TableCell>Data Criação</TableCell>\r\n                  <TableCell>Genêro</TableCell>\r\n                  <TableCell>Situação</TableCell>\r\n                  <tableCell></tableCell>\r\n                </TableRow>\r\n              </TableHead>\r\n              <TableBody>\r\n                {\r\n                 props.filmeList && props.filmeList.map((record, index) => {\r\n                    return (<TableRow key={index}>\r\n                      <TableCell>{record.nome}</TableCell>\r\n                      {/* <TableCell> {record.dataCriacao} </TableCell> */}\r\n                      <TableCell> { dayjs(record.dataCriacao).format('DD-MM-YYYY') } </TableCell>\r\n                      <TableCell>\r\n                          {record.generoId} \r\n                           \r\n\r\n\r\n                      </TableCell>\r\n                      <TableCell>{record.ativo}</TableCell>\r\n                      <tableCell>\r\n                        <ButtonGroup variant=\"Text\">\r\n                          <Button><EditIcon color =\"primary\"\r\n                          onClick={() =>  { setCurrentId(record.id) }} /> </Button>\r\n\r\n                          <Button><DeleteIcon color =\"secondary\"\r\n                          onClick={() => onDelete(record.id)} /> </Button>\r\n                        </ButtonGroup>\r\n\r\n                      </tableCell>\r\n                    </TableRow>)\r\n                  })\r\n                }\r\n              </TableBody>\r\n            </table>\r\n          </TableContainer>\r\n        </Grid>\r\n\r\n      </Grid>\r\n    </Paper>\r\n  )\r\n}\r\n\r\nconst mapStateToProps = state => ({\r\n  filmeList: state.filme.list,\r\n})\r\n\r\nconst mapActionToProps = {\r\n  fetchAllFilmes: actions.fetchAll,\r\n  deleteFilme: actions.Delete\r\n}\r\n\r\nexport default connect(mapStateToProps, mapActionToProps)(withStyles(styles)(Filmes))\r\n"]},"metadata":{},"sourceType":"module"}