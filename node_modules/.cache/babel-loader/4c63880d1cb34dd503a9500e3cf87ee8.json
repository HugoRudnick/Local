{"ast":null,"code":"import _slicedToArray from\"C:\\\\Projetos3\\\\react-app\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/slicedToArray\";import _objectWithoutProperties from\"C:\\\\Projetos3\\\\react-app\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/objectWithoutProperties\";import React,{useState,useEffect}from'react';import{connect}from'react-redux';import*as actions from'../Actions/genero';import GenerosForms from'./GeneroForm';import{Grid,Paper,TableContainer,table,TableHead,TableRow,TableCell,TableBody,withStyles,ButtonGroup,Button}from'@material-ui/core';import EditIcon from\"@material-ui/icons/Edit\";import DeleteIcon from\"@material-ui/icons/Delete\";import dayjs from'dayjs';import{useToasts}from'react-toast-notifications';var styles=function styles(theme){return{root:{'& . MuiTableCell-head':{fontSize:'1.25rem'}},paper:{margin:theme.spacing(2),padding:theme.spacing(2)}};};var Generos=function Generos(_ref){var classes=_ref.classes,props=_objectWithoutProperties(_ref,[\"classes\"]);var _useState=useState(0),_useState2=_slicedToArray(_useState,2),currentId=_useState2[0],setCurrentId=_useState2[1];useEffect(function(){props.fetchAllGeneros();},[]);//toast  \nvar _useToasts=useToasts(),addToast=_useToasts.addToast;var onDelete=function onDelete(id){if(window.confirm('Confirmar exclusão do gênero?'))props.deleteGenero(id,function(){return addToast(\"Exclusão realizada com sucesso!\",{appearance:'info'});});};return/*#__PURE__*/React.createElement(Paper,{className:classes.paper},/*#__PURE__*/React.createElement(Grid,{container:true},/*#__PURE__*/React.createElement(Grid,{item:true,xs:6},/*#__PURE__*/React.createElement(GenerosForms,{currentId:currentId,setCurrentId:setCurrentId})),/*#__PURE__*/React.createElement(Grid,{item:true,xs:6},/*#__PURE__*/React.createElement(TableContainer,null,/*#__PURE__*/React.createElement(\"table\",null,/*#__PURE__*/React.createElement(TableHead,{className:classes.root},/*#__PURE__*/React.createElement(TableRow,null,/*#__PURE__*/React.createElement(TableCell,null,\"Nome\"),/*#__PURE__*/React.createElement(TableCell,null,\"Data Cria\\xE7\\xE3o\"),/*#__PURE__*/React.createElement(TableCell,null,\"Situa\\xE7\\xE3o\"),/*#__PURE__*/React.createElement(\"tableCell\",null))),/*#__PURE__*/React.createElement(TableBody,null,props.generoList.map(function(record,index){return/*#__PURE__*/React.createElement(TableRow,{key:index},/*#__PURE__*/React.createElement(TableCell,null,record.nome),/*#__PURE__*/React.createElement(TableCell,null,\" \",dayjs(record.dataCriacao).format('DD-MM-YYYY'),\" \"),/*#__PURE__*/React.createElement(TableCell,null,record.ativo),/*#__PURE__*/React.createElement(\"tableCell\",null,/*#__PURE__*/React.createElement(ButtonGroup,{variant:\"Text\"},/*#__PURE__*/React.createElement(Button,null,/*#__PURE__*/React.createElement(EditIcon,{color:\"primary\",onClick:function onClick(){setCurrentId(record.id);}}),\" \"),/*#__PURE__*/React.createElement(Button,null,/*#__PURE__*/React.createElement(DeleteIcon,{color:\"secondary\",onClick:function onClick(){return onDelete(record.id);}}),\" \"))));})))))));};var mapStateToProps=function mapStateToProps(state){return{generoList:state.genero.list};};var mapActionToProps={fetchAllGeneros:actions.fetchAll,deleteGenero:actions.Delete};export default connect(mapStateToProps,mapActionToProps)(withStyles(styles)(Generos));","map":{"version":3,"sources":["C:/Projetos3/react-app/src/Components/Generos.js"],"names":["React","useState","useEffect","connect","actions","GenerosForms","Grid","Paper","TableContainer","table","TableHead","TableRow","TableCell","TableBody","withStyles","ButtonGroup","Button","EditIcon","DeleteIcon","dayjs","useToasts","styles","theme","root","fontSize","paper","margin","spacing","padding","Generos","classes","props","currentId","setCurrentId","fetchAllGeneros","addToast","onDelete","id","window","confirm","deleteGenero","appearance","generoList","map","record","index","nome","dataCriacao","format","ativo","mapStateToProps","state","genero","list","mapActionToProps","fetchAll","Delete"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from 'react'\r\nimport { connect } from 'react-redux'\r\nimport * as actions from '../Actions/genero'\r\nimport GenerosForms from './GeneroForm'\r\nimport { Grid, Paper, TableContainer, table, TableHead, TableRow, TableCell, TableBody, withStyles, ButtonGroup, Button } from '@material-ui/core'\r\nimport EditIcon from \"@material-ui/icons/Edit\";\r\nimport DeleteIcon from \"@material-ui/icons/Delete\";\r\nimport  dayjs  from 'dayjs';\r\nimport { useToasts } from 'react-toast-notifications'\r\n\r\nconst styles = theme => ({\r\n  root: {\r\n    '& . MuiTableCell-head': {\r\n      fontSize: '1.25rem'\r\n    }\r\n  },\r\n  paper: {\r\n    margin: theme.spacing(2),\r\n    padding: theme.spacing(2)\r\n  }\r\n})\r\n\r\nconst Generos = ({ classes, ...props }) => {\r\n  const [currentId, setCurrentId] = useState(0)\r\n\r\n  useEffect(() => {\r\n    props.fetchAllGeneros()\r\n  }, [])\r\n\r\n  //toast  \r\n  const { addToast } = useToasts()\r\n\r\n  const onDelete = id => {\r\n    if(window.confirm('Confirmar exclusão do gênero?'))\r\n    props.deleteGenero(id,() => addToast(\"Exclusão realizada com sucesso!\", { appearance: 'info' }))\r\n  }\r\n\r\n  return (\r\n    <Paper className={classes.paper}>\r\n      <Grid container>\r\n        <Grid item xs={6}>\r\n          <GenerosForms {...({ currentId, setCurrentId })} />\r\n        </Grid>\r\n\r\n        <Grid item xs={6}>\r\n          <TableContainer>\r\n            <table>\r\n              <TableHead className={classes.root}>\r\n                <TableRow>\r\n                  <TableCell>Nome</TableCell>\r\n                  <TableCell>Data Criação</TableCell>\r\n                  <TableCell>Situação</TableCell>\r\n                  <tableCell></tableCell>\r\n                </TableRow>\r\n              </TableHead>\r\n              <TableBody>\r\n                {\r\n                  props.generoList.map((record, index) => {\r\n                    return (<TableRow key={index}>\r\n                      <TableCell>{record.nome}</TableCell>\r\n                      {/* <TableCell> {record.dataCriacao} </TableCell> */}\r\n                      <TableCell> { dayjs(record.dataCriacao).format('DD-MM-YYYY') } </TableCell>\r\n                      <TableCell>{record.ativo}</TableCell>\r\n                      <tableCell>\r\n                        <ButtonGroup variant=\"Text\">\r\n                          <Button><EditIcon color =\"primary\"\r\n                          onClick={() =>  { setCurrentId(record.id) }} /> </Button>\r\n                                                  \r\n                          <Button><DeleteIcon color =\"secondary\" \r\n                          onClick={() => onDelete(record.id)} /> </Button>\r\n                        </ButtonGroup>\r\n\r\n                      </tableCell>\r\n                    </TableRow>)\r\n                  })\r\n                }\r\n              </TableBody>\r\n            </table>\r\n          </TableContainer>\r\n        </Grid>\r\n\r\n      </Grid>\r\n    </Paper>\r\n  )\r\n}\r\n\r\nconst mapStateToProps = state => ({\r\n  generoList: state.genero.list\r\n})\r\n\r\nconst mapActionToProps = {\r\n  fetchAllGeneros: actions.fetchAll,\r\n  deleteGenero: actions.Delete\r\n}\r\n\r\nexport default connect(mapStateToProps, mapActionToProps)(withStyles(styles)(Generos));\r\n"]},"metadata":{},"sourceType":"module"}