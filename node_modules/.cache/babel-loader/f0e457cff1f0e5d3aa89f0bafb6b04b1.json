{"ast":null,"code":"import _objectSpread from\"C:\\\\Projetos3\\\\react-app\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/objectSpread2\";import api from'./api';export var ACTION_TYPES={CREATE:'CREATE',UPDATE:'UPDATE',DELETE:'DELETE',FETCH_ALL:'FETCH_ALL'};var formateData=function formateData(data){return _objectSpread(_objectSpread({},data),{},{age:parseInt(data.age?data.age:0)});};// funcao simplificada\nexport var fetchAll=function fetchAll(){return function(dispatch){api.filme().fetchAll().then(function(response){dispatch({type:ACTION_TYPES.FETCH_ALL,payload:response.data});}).catch(function(err){return console.log(err);});};};export var create=function create(data,onSuccess){return function(dispatch){data=formateData(data);api.filme().create(data).then(function(res){dispatch({type:ACTION_TYPES.CREATE,payload:res.data});onSuccess();}).catch(function(err){return console.log(err);});};};export var update=function update(id,data,onSuccess){return function(dispatch){data=formateData(data);api.filme().update(id,data).then(function(res){dispatch({type:ACTION_TYPES.UPDATE,payload:_objectSpread({id:id},data)});onSuccess();}).catch(function(err){return console.log(err);});};};export var Delete=function Delete(id,onSuccess){return function(dispatch){api.filme().delete(id).then(function(res){dispatch({type:ACTION_TYPES.DELETE,payload:id});onSuccess();}).catch(function(err){return console.log(err);});};};","map":{"version":3,"sources":["C:/Projetos3/react-app/src/Actions/filme.js"],"names":["api","ACTION_TYPES","CREATE","UPDATE","DELETE","FETCH_ALL","formateData","data","age","parseInt","fetchAll","dispatch","filme","then","response","type","payload","catch","err","console","log","create","onSuccess","res","update","id","Delete","delete"],"mappings":"mJAAA,MAAOA,CAAAA,GAAP,KAAgB,OAAhB,CAEA,MAAO,IAAMC,CAAAA,YAAY,CAAG,CAC1BC,MAAM,CAAE,QADkB,CAE1BC,MAAM,CAAE,QAFkB,CAG1BC,MAAM,CAAE,QAHkB,CAI1BC,SAAS,CAAE,WAJe,CAArB,CAOP,GAAMC,CAAAA,WAAW,CAAG,QAAdA,CAAAA,WAAc,CAAAC,IAAI,wCACjBA,IADiB,MAEpBC,GAAG,CAACC,QAAQ,CAACF,IAAI,CAACC,GAAL,CAASD,IAAI,CAACC,GAAd,CAAkB,CAAnB,CAFQ,IAAxB,CAKA;AACA,MAAO,IAAME,CAAAA,QAAQ,CAAG,QAAXA,CAAAA,QAAW,SAAM,UAAAC,QAAQ,CAAI,CACxCX,GAAG,CAACY,KAAJ,GAAYF,QAAZ,GACGG,IADH,CACQ,SAAAC,QAAQ,CAAI,CAChBH,QAAQ,CAAC,CACPI,IAAI,CAAEd,YAAY,CAACI,SADZ,CAEPW,OAAO,CAAEF,QAAQ,CAACP,IAFX,CAAD,CAAR,CAID,CANH,EAOGU,KAPH,CAOS,SAAAC,GAAG,QAAIC,CAAAA,OAAO,CAACC,GAAR,CAAYF,GAAZ,CAAJ,EAPZ,EAQD,CATuB,EAAjB,CAWP,MAAO,IAAMG,CAAAA,MAAM,CAAG,QAATA,CAAAA,MAAS,CAACd,IAAD,CAAOe,SAAP,QAAqB,UAAAX,QAAQ,CAAI,CACnDJ,IAAI,CAAGD,WAAW,CAACC,IAAD,CAAlB,CACAP,GAAG,CAACY,KAAJ,GAAYS,MAAZ,CAAmBd,IAAnB,EACCM,IADD,CACM,SAAAU,GAAG,CAAG,CACRZ,QAAQ,CAAC,CACLI,IAAI,CAACd,YAAY,CAACC,MADb,CAELc,OAAO,CAAGO,GAAG,CAAChB,IAFT,CAAD,CAAR,CAIAe,SAAS,GACZ,CAPD,EAQCL,KARD,CAQO,SAAAC,GAAG,QAAIC,CAAAA,OAAO,CAACC,GAAR,CAAYF,GAAZ,CAAJ,EARV,EASH,CAXqB,EAAf,CAaP,MAAO,IAAMM,CAAAA,MAAM,CAAG,QAATA,CAAAA,MAAS,CAACC,EAAD,CAAKlB,IAAL,CAAWe,SAAX,QAAyB,UAAAX,QAAQ,CAAI,CACvDJ,IAAI,CAAGD,WAAW,CAACC,IAAD,CAAlB,CACAP,GAAG,CAACY,KAAJ,GAAYY,MAAZ,CAAmBC,EAAnB,CAAsBlB,IAAtB,EACCM,IADD,CACM,SAAAU,GAAG,CAAG,CACRZ,QAAQ,CAAC,CACLI,IAAI,CAACd,YAAY,CAACE,MADb,CAELa,OAAO,gBAAIS,EAAE,CAAFA,EAAJ,EAAWlB,IAAX,CAFF,CAAD,CAAR,CAIAe,SAAS,GACZ,CAPD,EAQCL,KARD,CAQO,SAAAC,GAAG,QAAIC,CAAAA,OAAO,CAACC,GAAR,CAAYF,GAAZ,CAAJ,EARV,EASH,CAXqB,EAAf,CAaP,MAAO,IAAMQ,CAAAA,MAAM,CAAG,QAATA,CAAAA,MAAS,CAACD,EAAD,CAAMH,SAAN,QAAoB,UAAAX,QAAQ,CAAI,CAClDX,GAAG,CAACY,KAAJ,GAAYe,MAAZ,CAAmBF,EAAnB,EACCZ,IADD,CACM,SAAAU,GAAG,CAAG,CACRZ,QAAQ,CAAC,CACLI,IAAI,CAACd,YAAY,CAACG,MADb,CAELY,OAAO,CAAES,EAFJ,CAAD,CAAR,CAIAH,SAAS,GACZ,CAPD,EAQCL,KARD,CAQO,SAAAC,GAAG,QAAIC,CAAAA,OAAO,CAACC,GAAR,CAAYF,GAAZ,CAAJ,EARV,EASH,CAVqB,EAAf","sourcesContent":["import api from './api'\r\n\r\nexport const ACTION_TYPES = {\r\n  CREATE: 'CREATE',\r\n  UPDATE: 'UPDATE',\r\n  DELETE: 'DELETE',\r\n  FETCH_ALL: 'FETCH_ALL'\r\n}\r\n\r\nconst formateData = data =>({\r\n    ...data,\r\n    age:parseInt(data.age?data.age:0)\r\n})\r\n\r\n// funcao simplificada\r\nexport const fetchAll = () => dispatch => {\r\n  api.filme().fetchAll()\r\n    .then(response => {\r\n      dispatch({\r\n        type: ACTION_TYPES.FETCH_ALL,\r\n        payload: response.data\r\n      })\r\n    })\r\n    .catch(err => console.log(err))\r\n}\r\n\r\nexport const create = (data, onSuccess) => dispatch => {\r\n    data = formateData(data)\r\n    api.filme().create(data)\r\n    .then(res =>{\r\n        dispatch({\r\n            type:ACTION_TYPES.CREATE,\r\n            payload : res.data\r\n        })\r\n        onSuccess()\r\n    })\r\n    .catch(err => console.log(err))\r\n}\r\n\r\nexport const update = (id, data, onSuccess) => dispatch => {\r\n    data = formateData(data)\r\n    api.filme().update(id,data)\r\n    .then(res =>{\r\n        dispatch({\r\n            type:ACTION_TYPES.UPDATE,\r\n            payload: { id, ...data }\r\n        })\r\n        onSuccess()\r\n    })\r\n    .catch(err => console.log(err))\r\n}    \r\n\r\nexport const Delete = (id,  onSuccess) => dispatch => {\r\n    api.filme().delete(id)\r\n    .then(res =>{\r\n        dispatch({\r\n            type:ACTION_TYPES.DELETE,\r\n            payload: id\r\n        })\r\n        onSuccess()\r\n    })\r\n    .catch(err => console.log(err))\r\n}"]},"metadata":{},"sourceType":"module"}